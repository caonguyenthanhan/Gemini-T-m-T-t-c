<!DOCTYPE html>
<html>
<head>
  <title>Gemini Tóm Tắt & Đọc</title>
  <meta charset="UTF-8">
  <style>
    body { width: 380px; font-family: Arial, sans-serif; padding: 10px; font-size: 14px; }
    h1 { font-size: 16px; text-align: center; margin-top: 0; }
    input[type="password"], input[type="text"] { width: 95%; padding: 8px; margin-bottom: 5px; border: 1px solid #ccc; border-radius: 4px; }
    button { width: 100%; padding: 10px; margin-top: 5px; cursor: pointer; border: none; border-radius: 4px; color: white; font-weight: bold; }
    button:hover { opacity: 0.9; }
    button:disabled { background-color: #ccc; cursor: not-allowed; }
    select { width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px; }
    #summarizeBtn { background-color: #4285F4; }
    #controls button { width: 49%; display: inline-block; }
    #playPauseBtn { background-color: #34A853; }
    #stopBtn { background-color: #EA4335; }
    .api-section { border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 10px; }
    .api-section label { display: block; margin-bottom: 3px; font-weight: bold; }
    #result-box { margin-top: 10px; padding: 10px; white-space: pre-wrap; word-wrap: break-word; max-height: 200px; overflow-y: auto; background-color: #f9f9f9; border: 1px solid #eee; border-radius: 4px; font-size: 13px; line-height: 1.5; }
  </style>
</head>
<body>
  <h1>Gemini Tóm Tắt & Đọc</h1>

  <div class="api-section">
    <label for="apiKey">Gemini API Key:</label>
    <input type="password" id="apiKey" placeholder="Dán Gemini API Key của bạn vào đây">
    <button id="saveKeyBtn" style="background-color: #fbbc05;">Lưu Key</button>
  </div>

  <div class="api-section">
      <label>Cài đặt iFLYTEK TTS:</label>
      <input type="text" id="iflytekAppId" placeholder="iFLYTEK APPID">
      <input type="password" id="iflytekApiKey" placeholder="iFLYTEK APIKey">
      <input type="password" id="iflytekApiSecret" placeholder="iFLYTEK APISecret">
      <button id="saveIflytekBtn" style="background-color: #fbbc05;">Lưu iFLYTEK Keys</button>
  </div>

  <button id="summarizeBtn">Tóm tắt trang này</button>
  
  <label for="ttsEngine">Chọn giọng đọc:</label>
  <select id="ttsEngine">
      <option value="browser">Giọng đọc của trình duyệt</option>
      <option value="iflytek">Giọng đọc iFLYTEK</option>
  </select>
  
  <div id="controls">
      <button id="playPauseBtn">▶️ Đọc</button>
      <button id="stopBtn">⏹️ Dừng</button>
  </div>

  <div id="result-box">Trạng thái: Sẵn sàng.</div>

  <script src="popup.js"></script>
</body>
</html>