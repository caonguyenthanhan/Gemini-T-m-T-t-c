<!DOCTYPE html>
<html>
<head>
  <title>K·∫øt qu·∫£ t√≥m t·∫Øt</title>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; line-height: 1.6; }
    h1 { font-size: 24px; color: #4285F4; margin-bottom: 20px; }
    #summary-content { padding: 15px; background-color: #f9f9f9; border: 1px solid #eee; border-radius: 4px; white-space: pre-wrap; margin-bottom: 20px; }
    #controls { margin-top: 20px; margin-bottom: 20px; }
    button { padding: 10px 15px; margin-right: 10px; cursor: pointer; border: none; border-radius: 4px; color: white; font-weight: bold; }
    button:hover { opacity: 0.9; }
    #playPauseBtn { background-color: #34A853; }
    #stopBtn { background-color: #EA4335; }
    select { padding: 8px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px; }
    
    /* Chat styles */
    #chat-section { margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px; }
    #chat-container { display: flex; flex-direction: column; max-height: 300px; overflow-y: auto; margin-bottom: 10px; }
    .chat-message { padding: 10px; margin-bottom: 10px; border-radius: 4px; max-width: 80%; }
    .user-message { background-color: #E8F0FE; align-self: flex-end; }
    .ai-message { background-color: #F1F3F4; align-self: flex-start; }
    #chat-input-container { display: flex; margin-top: 10px; }
    #chat-input { flex-grow: 1; padding: 10px; border: 1px solid #ccc; border-radius: 4px; margin-right: 10px; }
    #send-btn { background-color: #4285F4; }
  </style>
</head>
<body>
  <div id="layout">
    <div id="history-panel">
      <div id="history-header">
        <span>L·ªãch s·ª≠ t√≥m t·∫Øt</span>
        <button id="toggle-history">Thu g·ªçn</button>
      </div>
      <div id="history-list"></div>
    </div>
    <div id="workspace">
      <h1>K·∫øt qu·∫£ t√≥m t·∫Øt</h1>
      <div id="screenshot-area">
        <img id="screenshot-image" alt="·∫¢nh ch·ª•p" style="max-width:100%; display:none;" />
      </div>
      <div id="summary-content">ƒêang t·∫£i k·∫øt qu·∫£ t√≥m t·∫Øt...</div>
      <div id="tools">
        <input type="text" id="summary-prompt" placeholder="Nh·∫≠p ghi ch√∫/t·ª´ kh√≥a cho t√≥m t·∫Øt..." style="width:60%; padding:8px;" />
        <button id="summarize-btn">T√≥m t·∫Øt</button>
        <button id="new-session-btn">Phi√™n m·ªõi</button>
      </div>
      <div id="controls">
        <label for="ttsEngine">Ch·ªçn gi·ªçng ƒë·ªçc:</label>
        <select id="ttsEngine">
          <option value="browser">Gi·ªçng ƒë·ªçc c·ªßa tr√¨nh duy·ªát</option>
          <option value="google">Gi·ªçng ƒë·ªçc Google Cloud</option>
          <option value="local">Gi·ªçng ƒë·ªçc c·ª•c b·ªô (Local)</option>
        </select>
        <button id="playPauseBtn">‚ñ∂Ô∏è ƒê·ªçc</button>
        <button id="stopBtn">‚èπÔ∏è D·ª´ng</button>
      </div>
      <div id="chat-section">
        <h2>H·ªèi th√™m v·ªÅ n·ªôi dung</h2>
        <div style="margin-bottom: 15px; padding: 10px; background-color: #f0f8ff; border-radius: 4px; border: 1px solid #e0e0e0;">
          <label style="display: flex; align-items: center; cursor: pointer; font-size: 14px;">
            <input type="checkbox" id="allowExternalKnowledge" style="margin-right: 8px;">
            <span>üìö Cho ph√©p d√πng tri th·ª©c ngo√†i</span>
          </label>
          <div style="font-size: 12px; color: #666; margin-top: 4px; margin-left: 20px;">
            N·∫øu b·∫≠t, AI c√≥ th·ªÉ s·ª≠ d·ª•ng ki·∫øn th·ª©c chung ngo√†i n·ªôi dung ƒë∆∞·ª£c ch·ªçn
          </div>
        </div>
        <div id="chat-container"></div>
        <div id="chat-input-container">
          <input type="text" id="chat-input" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n...">
          <button id="send-btn">G·ª≠i</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      var s = document.createElement('style');
      s.textContent = '#layout{display:flex;gap:12px}#history-panel{flex:0 0 30%;border:1px solid #eee;border-radius:6px;overflow:hidden;display:flex;flex-direction:column}#history-header{display:flex;justify-content:space-between;align-items:center;padding:10px;background:#f7f7f7;border-bottom:1px solid #eee}#history-list{overflow-y:auto;max-height:calc(100vh - 180px)}.history-item{padding:10px;border-bottom:1px solid #eee} .history-title{font-weight:600;font-size:14px;margin-bottom:6px} .history-preview{font-size:13px;color:#555;margin-bottom:8px} .history-actions{display:flex;gap:8px}#workspace{flex:1}#tools{margin:10px 0;display:flex;gap:8px;align-items:center}#chat-section{margin-top:20px;border-top:1px solid #eee;padding-top:10px} @media(max-width:900px){#layout{flex-direction:column}#history-panel{flex:0 0 auto;max-height:240px}}';
      document.head.appendChild(s);
    })();
  </script>
  <script src="summary.js"></script>
</body>
</html>
